
> byok-developer-app-marketplace@0.1.0 dev
> next dev

   ▲ Next.js 15.4.3
   - Local:        http://localhost:3000
   - Network:      http://192.0.0.2:3000
   - Environments: .env.local, .env
   - Experiments (use with caution):
     · optimizePackageImports

 ✓ Starting...
 ✓ Ready in 1187ms
 ○ Compiling / ...
 ✓ Compiled / in 2.7s (901 modules)
 ⚠ Unsupported metadata viewport is configured in metadata export in /. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET / 200 in 3006ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET / 200 in 92ms
 ○ Compiling /_not-found ...
 ✓ Compiled /_not-found in 557ms (998 modules)
 ⚠ Unsupported metadata viewport is configured in metadata export in /_not-found. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /api/auth/user 200 in 746ms
 GET /auth/profile 404 in 742ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET / 200 in 217ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /_not-found. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /auth/profile 404 in 24ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /_not-found. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /auth/profile 404 in 20ms
 ✓ Compiled /marketplace in 312ms (1055 modules)
 ⚠ Unsupported metadata viewport is configured in metadata export in /marketplace. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /marketplace 200 in 372ms
 ✓ Compiled /api/users/subscriptions in 119ms (1059 modules)
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 140ms
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 141ms
 ✓ Compiled /marketplace/apps/simple-ai-chat in 436ms (1082 modules)
 ⚠ Unsupported metadata viewport is configured in metadata export in /marketplace/apps/simple-ai-chat. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /marketplace/apps/simple-ai-chat 200 in 464ms
 ○ Compiling /api/keys ...
 ✓ Compiled /api/keys in 1080ms (1511 modules)
Using Google Cloud KMS encryption service
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 1418ms
 GET /api/keys 200 in 1418ms
 ✓ Compiled /api/keys/migrate in 151ms (1513 modules)
Using Google Cloud KMS encryption service
Using Google Cloud KMS encryption service
 GET /api/keys/migrate 200 in 336ms
 GET /api/keys/migrate 200 in 337ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 12ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 13ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 8ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 9ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 6ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 7ms
 ✓ Compiled /api/keys/[keyId]/decrypt in 138ms (1515 modules)
Using Google Cloud KMS encryption service
Using Google Cloud KMS encryption service
API key accessed for usage: {
  userId: 'user-1',
  keyId: 'cmdqinypy000bymydjh30bng5',
  provider: 'GOOGLE',
  timestamp: '2025-07-31T12:12:13.796Z',
  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15'
}
 GET /api/keys/cmdqinypy000bymydjh30bng5/decrypt 200 in 1151ms
API key accessed for usage: {
  userId: 'user-1',
  keyId: 'cmdqinypy000bymydjh30bng5',
  provider: 'GOOGLE',
  timestamp: '2025-07-31T12:12:13.851Z',
  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15'
}
 GET /api/keys/cmdqinypy000bymydjh30bng5/decrypt 200 in 1206ms
 ✓ Compiled /api/test-provider in 140ms (1517 modules)
 POST /api/test-provider 200 in 731ms
 POST /api/test-provider 200 in 671ms
 GET /api/keys 200 in 5ms
Using Google Cloud KMS encryption service
 ✓ Compiled /setup in 217ms (1550 modules)
 ⚠ Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
 GET /setup 200 in 347ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /setup. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 ⚠ Unsupported metadata viewport is configured in metadata export in /marketplace/apps/simple-ai-chat. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /marketplace/apps/simple-ai-chat 200 in 31ms
 GET /api/auth/user 200 in 12ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 105ms
Using Google Cloud KMS encryption service
 GET /api/keys/migrate 200 in 7ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 4ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 4ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 3ms
Using Google Cloud KMS encryption service
API key accessed for usage: {
  userId: 'user-1',
  keyId: 'cmdqinypy000bymydjh30bng5',
  provider: 'GOOGLE',
  timestamp: '2025-07-31T12:12:15.713Z',
  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15'
}
 GET /api/keys/cmdqinypy000bymydjh30bng5/decrypt 200 in 333ms
 POST /api/test-provider 200 in 541ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 6ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 4ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 4ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 8ms
Using Google Cloud KMS encryption service
API key accessed for usage: {
  userId: 'user-1',
  keyId: 'cmdqinypy000bymydjh30bng5',
  provider: 'GOOGLE',
  timestamp: '2025-07-31T12:12:24.754Z',
  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15'
}
 GET /api/keys/cmdqinypy000bymydjh30bng5/decrypt 200 in 291ms
 ✓ Compiled /api/ai/chat in 292ms (1552 modules)
Chat API error: Error: You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
    at callGoogleAI (src/app/api/ai/chat/route.ts:90:10)
    at async POST (src/app/api/ai/chat/route.ts:172:19)
  88 |     const errorData = await response.json().catch(() => ({}));
  89 |     const errorMessage = errorData.error?.message || `Google AI API error: ${response.status} ${response.statusText}`;
> 90 |     throw new Error(errorMessage);
     |          ^
  91 |   }
  92 |
  93 |   const data = await response.json();  
 POST /api/ai/chat 500 in 585ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /marketplace. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /marketplace 200 in 245ms
 GET /api/auth/user 200 in 21ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /_not-found. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 32ms
 GET /auth/profile 404 in 33ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /setup. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /setup 200 in 23ms
Using Google Cloud KMS encryption service
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 237ms
 GET /api/keys 200 in 238ms
Using Google Cloud KMS encryption service
 GET /api/keys/migrate 200 in 11ms
Using Google Cloud KMS encryption service
 GET /api/keys/migrate 200 in 13ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 5ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 8ms
 ✓ Compiled /api/keys/[keyId] in 422ms (1548 modules)
Using Google Cloud KMS encryption service
API key deactivation: {
  userId: 'user-1',
  keyId: 'cmdqinypy000bymydjh30bng5',
  success: true,
  timestamp: '2025-07-31T12:14:38.991Z'
}
 DELETE /api/keys/cmdqinypy000bymydjh30bng5 200 in 1177ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 15ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /_not-found. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /auth/profile 404 in 72ms
 ✓ Compiled /api/test-provider in 147ms (1141 modules)
 POST /api/test-provider 200 in 692ms
 POST /api/test-provider 200 in 345ms
Using Google Cloud KMS encryption service
API key stored successfully: {
  userId: 'user-1',
  keyId: 'cmdrcxhco0001ym3da9iyb5zk',
  provider: 'GOOGLE',
  timestamp: '2025-07-31T12:14:44.770Z'
}
 POST /api/keys 200 in 966ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 13ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /marketplace. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /marketplace 200 in 45ms
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 18ms
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 23ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /marketplace/apps/simple-ai-chat. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /marketplace/apps/simple-ai-chat 200 in 38ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 14ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 17ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 12ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 14ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 10ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 19ms
 ✓ Compiled /api/keys/[keyId]/decrypt in 456ms (1143 modules)
Using Google Cloud KMS encryption service
Using Google Cloud KMS encryption service
API key accessed for usage: {
  userId: 'user-1',
  keyId: 'cmdrcxhco0001ym3da9iyb5zk',
  provider: 'GOOGLE',
  timestamp: '2025-07-31T12:14:52.885Z',
  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15'
}
 GET /api/keys/cmdrcxhco0001ym3da9iyb5zk/decrypt 200 in 1430ms
API key accessed for usage: {
  userId: 'user-1',
  keyId: 'cmdrcxhco0001ym3da9iyb5zk',
  provider: 'GOOGLE',
  timestamp: '2025-07-31T12:14:52.916Z',
  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15'
}
 GET /api/keys/cmdrcxhco0001ym3da9iyb5zk/decrypt 200 in 1449ms
 POST /api/test-provider 200 in 595ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 24ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 8ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 13ms
 POST /api/test-provider 200 in 912ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 16ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 11ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 9ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 16ms
Using Google Cloud KMS encryption service
API key accessed for usage: {
  userId: 'user-1',
  keyId: 'cmdrcxhco0001ym3da9iyb5zk',
  provider: 'GOOGLE',
  timestamp: '2025-07-31T12:15:00.742Z',
  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15'
}
 GET /api/keys/cmdrcxhco0001ym3da9iyb5zk/decrypt 200 in 366ms
 ✓ Compiled /api/ai/chat in 132ms (1145 modules)
 POST /api/ai/chat 200 in 736ms
Using Google Cloud KMS encryption service
 GET /api/keys 200 in 130ms
Using Google Cloud KMS encryption service
API key accessed for usage: {
  userId: 'user-1',
  keyId: 'cmdrcxhco0001ym3da9iyb5zk',
  provider: 'GOOGLE',
  timestamp: '2025-07-31T12:16:11.818Z',
  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15'
}
 GET /api/keys/cmdrcxhco0001ym3da9iyb5zk/decrypt 200 in 386ms
 POST /api/ai/chat 200 in 1592ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /marketplace. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /marketplace 200 in 307ms
 GET /api/auth/user 200 in 18ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /_not-found. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 31ms
 GET /auth/profile 404 in 32ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET / 200 in 78ms
 ○ Compiling /my-apps ...
 ✓ Compiled /my-apps in 1048ms (1128 modules)
 ⚠ Unsupported metadata viewport is configured in metadata export in /my-apps. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /my-apps 200 in 1104ms
 GET /api/users/subscriptions?page=1&limit=10 200 in 16ms
 GET /api/users/subscriptions?page=1&limit=10 200 in 20ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /_not-found. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /auth/profile 404 in 48ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /marketplace. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /marketplace 200 in 28ms
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 8ms
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 16ms
 POST /api/users/subscriptions 200 in 5ms
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 18ms
 ✓ Compiled /dashboard in 271ms (1147 modules)
 ⚠ Unsupported metadata viewport is configured in metadata export in /dashboard. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /dashboard 200 in 340ms
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 17ms
 GET /api/users/subscriptions 200 in 22ms
 GET /api/users/subscriptions?status=ACTIVE 200 in 20ms
 GET /api/users/subscriptions?page=1&limit=10&status=ACTIVE 200 in 26ms
 GET /api/users/subscriptions 200 in 26ms
 GET /api/users/subscriptions?status=ACTIVE 200 in 26ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET / 200 in 177ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /_not-found. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /api/auth/user 200 in 41ms
 GET /auth/profile 404 in 43ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /my-apps. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /my-apps 200 in 26ms
 GET /api/users/subscriptions?page=1&limit=10 200 in 14ms
 GET /api/users/subscriptions?page=1&limit=10 200 in 23ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /_not-found. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /auth/profile 404 in 24ms
 ✓ Compiled in 209ms (436 modules)
 ⚠ Unsupported metadata viewport is configured in metadata export in /my-apps. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /my-apps 200 in 16ms
 ⚠ Unsupported metadata viewport is configured in metadata export in /_not-found. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /auth/profile 404 in 15ms
 ✓ Compiled in 135ms (436 modules)
 ⚠ Unsupported metadata viewport is configured in metadata export in /my-apps. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport
 GET /my-apps 200 in 12ms
